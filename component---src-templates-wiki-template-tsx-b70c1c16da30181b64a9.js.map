{"version":3,"sources":["webpack:///./src/components/layout/sidebar/index.tsx","webpack:///./src/components/layout/WikiLayout.tsx","webpack:///./src/templates/wiki-template.tsx","webpack:///./node_modules/gatsby/node_modules/core-js/modules/_string-html.js","webpack:///./node_modules/gatsby/node_modules/core-js/modules/es6.string.link.js"],"names":["Sider","Layout","Content","Header","Menu","SubMenu","render","item","id","Boolean","link","isLinkItem","Item","key","className","style","height","to","name","title","items","map","v","i","Sidebar","query","data","menuDataHash","allMarkdownRemark","edges","edge","node","reduce","acc","frontmatter","ignored","menuItem","breadcrumbs","replace","push","fields","slug","rootItems","menuName","currentPath","window","location","pathname","process","defaultOpenKeys","width","overflow","position","left","mode","defaultSelectedKeys","selectedKeys","WikiLayout","children","menuSection","split","site","siteMetadata","meta","content","lang","Logo","Search","theme","padding","marginLeft","margin","minHeight","backgroundColor","wikiQuery","WikiTemplate","article","markdownRemark","dangerouslySetInnerHTML","__html","html","$export","fails","defined","quot","createHTML","string","tag","attribute","value","S","String","p1","module","exports","NAME","exec","O","P","F","test","toLowerCase","length","url","this"],"mappings":"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","file":"component---src-templates-wiki-template-tsx-b70c1c16da30181b64a9.js","sourcesContent":["import React from 'react';\nimport { graphql, StaticQuery, Link } from 'gatsby';\nimport { Layout, Menu } from 'antd';\nimport 'antd/lib/menu/style/css';\nimport './sidebar.css';\n\nconst { Sider, Content, Header } = Layout;\nconst { SubMenu } = Menu;\nconst pathPrefix = process.env.GATSBY_PATH_PREFIX || '';\n\ninterface LinkItem {\n  id: string;\n  name: string;\n  link: string;\n}\n\ninterface ParentItem {\n  id: string;\n  name: string;\n  items: MenuItem[] | null;\n}\n\ntype MenuItem = LinkItem | ParentItem;\n\ntype Query = { allSidebarJson: { edges: { node: MenuItem }[] } };\n\nfunction isLinkItem(item: MenuItem): item is LinkItem {\n  const result = Boolean((item as LinkItem).link);\n  return result;\n}\n\nfunction render(item: MenuItem, id: string) {\n  if (isLinkItem(item)) {\n    return (\n      <Menu.Item\n        key={item.link}\n        className=\"sidebar-menu-item\"\n        style={{ height: 'auto' }}\n      >\n        <Link to={item.link}>\n          <div>{item.name}</div>\n        </Link>\n      </Menu.Item>\n    );\n  } else {\n    return (\n      <Menu.SubMenu key={id} title={item.name}>\n        {item.items && item.items.map((v, i) => render(v, id + '.' + i))}\n      </Menu.SubMenu>\n    );\n  }\n}\n\nexport function Sidebar() {\n  return (\n    <StaticQuery\n      query={graphql`\n        query MyQuery {\n          allMarkdownRemark {\n            edges {\n              node {\n                id\n                fileAbsolutePath\n                breadcrumbs\n                frontmatter {\n                  title\n                  ignored\n                }\n                fields {\n                  slug\n                }\n              }\n            }\n          }\n        }\n      `}\n      render={(data: Query) => {\n        // const rootItems = data.allSidebarJson.edges.map((v) => v.node)\n        const menuDataHash = data.allMarkdownRemark.edges\n          .map((edge) => edge.node)\n          .reduce((acc, node) => {\n            if (node.frontmatter.ignored) {\n              return acc;\n            }\n\n            const menuItem = node.breadcrumbs[1].replace(/-/g, ' ');\n            acc[menuItem] = acc[menuItem] || {\n              id: menuItem,\n              name: menuItem,\n              link: '',\n              items: [],\n            };\n            acc[menuItem].items.push({\n              name: node.frontmatter.title,\n              link: node.fields.slug,\n            });\n            return acc;\n          }, {});\n        // Hack for now; Super brittle and doesn't support recursive menus etc.\n        const preferredOrder = [\n          'Getting Started',\n          'Contributing',\n          'Metasploit Development',\n          'Resources',\n          'Misc',\n        ];\n        const rootItems = preferredOrder.map(\n          (menuName) => menuDataHash[menuName]\n        );\n\n        const currentPath =\n          typeof window !== 'undefined'\n            ? window.location.pathname.replace(pathPrefix, '')\n            : '/';\n        const defaultOpenKeys = rootItems.map((item) => item.id);\n\n        return (\n          <Sider\n            width={280}\n            className=\"sider\"\n            style={{\n              overflow: 'auto',\n              height: '100vh',\n              position: 'fixed',\n              left: 0,\n            }}\n          >\n            <Menu\n              mode=\"inline\"\n              defaultSelectedKeys={['1']}\n              defaultOpenKeys={defaultOpenKeys}\n              selectedKeys={[currentPath]}\n            >\n              {rootItems.map((v) => render(v, v.id))}\n            </Menu>\n          </Sider>\n        );\n      }}\n    />\n  );\n}\n","import React from 'react';\nimport Helmet from 'react-helmet';\nimport { StaticQuery, graphql, Link } from 'gatsby';\nimport { AutoComplete, Input, Layout, Menu } from 'antd';\nimport { Logo } from './Logo';\nimport { Sidebar } from './sidebar';\nimport { Search } from '../Search';\nimport 'prismjs/themes/prism-coy.css';\nimport 'antd/lib/typography/style/css';\nimport 'antd/lib/layout/style/css';\nimport 'antd/lib/menu/style/css';\nimport 'antd/lib/input/style/css';\nimport './Layout.css';\n\nconst { Sider, Content, Header } = Layout;\n\nconst pathPrefix = process.env.GATSBY_PATH_PREFIX || '';\n\nexport function WikiLayout({ children }: React.PropsWithChildren<{}>) {\n  return (\n    <StaticQuery\n      query={graphql`\n        query SiteTitleQueryWikiLayout {\n          site {\n            siteMetadata {\n              title\n            }\n          }\n        }\n      `}\n      render={(data) => {\n        const currentPath =\n          typeof window !== 'undefined'\n            ? window.location.pathname.replace(pathPrefix, '')\n            : '/';\n        const menuSection = currentPath.split('/')[1];\n\n        return (\n          <Layout>\n            <Helmet\n              title={data.site.siteMetadata.title}\n              meta={[\n                { name: 'description', content: 'Sample' },\n                { name: 'keywords', content: 'sample, something' },\n              ]}\n            >\n              <html lang=\"en\" />\n            </Helmet>\n\n            <Header className=\"header\">\n              <div className=\"logo\">\n                <Link to=\"/\">\n                  <Logo />\n                </Link>\n              </div>\n\n              <div className=\"header-search\">\n                <Search />\n              </div>\n              <Menu\n                theme=\"dark\"\n                mode=\"horizontal\"\n                defaultSelectedKeys={[menuSection]}\n              >\n                <Menu.Item key=\"wiki\">\n                  <Link to=\"/wiki\">\n                    <div>Wiki</div>\n                  </Link>\n                </Menu.Item>\n                <Menu.Item key=\"modules\">\n                  <Link to=\"/modules/explore\">\n                    <div>Modules</div>\n                  </Link>\n                </Menu.Item>\n                <Menu.Item key=\"help\">\n                  <Link to=\"/help\">\n                    <div>Help</div>\n                  </Link>\n                </Menu.Item>\n              </Menu>\n            </Header>\n\n            <Layout className=\"content-wrapper\">\n              <Sidebar />\n              <Layout style={{ padding: '0 24px 24px', marginLeft: '280px' }}>\n                <Content\n                  style={{\n                    padding: 24,\n                    margin: '24px 0',\n                    minHeight: 'inherit',\n                    backgroundColor: '#fff',\n                  }}\n                >\n                  {children}\n                </Content>\n              </Layout>\n            </Layout>\n          </Layout>\n        );\n      }}\n    />\n  );\n}\n\nexport default WikiLayout;\n","import React from 'react';\nimport { graphql } from 'gatsby';\nimport { WikiLayout } from '../components/layout/WikiLayout';\n\nfunction WikiTemplate({ data }: any) {\n  const article = data.markdownRemark;\n  return (\n    <WikiLayout>\n      <h2>{article.frontmatter.title}</h2>\n      <div dangerouslySetInnerHTML={{ __html: article.html }} />\n    </WikiLayout>\n  );\n}\n\nexport const wikiQuery = graphql`\n  query WikiQuery($id: String) {\n    markdownRemark(id: { eq: $id }) {\n      id\n      frontmatter {\n        title\n        root\n      }\n      html\n    }\n  }\n`;\nexport default WikiTemplate;\n","var $export = require('./_export');\nvar fails = require('./_fails');\nvar defined = require('./_defined');\nvar quot = /\"/g;\n// B.2.3.2.1 CreateHTML(string, tag, attribute, value)\nvar createHTML = function (string, tag, attribute, value) {\n  var S = String(defined(string));\n  var p1 = '<' + tag;\n  if (attribute !== '') p1 += ' ' + attribute + '=\"' + String(value).replace(quot, '&quot;') + '\"';\n  return p1 + '>' + S + '</' + tag + '>';\n};\nmodule.exports = function (NAME, exec) {\n  var O = {};\n  O[NAME] = exec(createHTML);\n  $export($export.P + $export.F * fails(function () {\n    var test = ''[NAME]('\"');\n    return test !== test.toLowerCase() || test.split('\"').length > 3;\n  }), 'String', O);\n};\n","'use strict';\n// B.2.3.10 String.prototype.link(url)\nrequire('./_string-html')('link', function (createHTML) {\n  return function link(url) {\n    return createHTML(this, 'a', 'href', url);\n  };\n});\n"],"sourceRoot":""}