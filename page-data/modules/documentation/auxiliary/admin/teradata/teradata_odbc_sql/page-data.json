{"componentChunkName":"component---src-templates-module-documentation-template-tsx","path":"/modules/documentation/auxiliary/admin/teradata/teradata_odbc_sql","result":{"data":{"moduleMetadataJson":{"id":"a0a23c26-124e-52bc-9dab-4d77f6e6fb28","name":"Teradata ODBC SQL Query Module","fullname":"auxiliary/admin/teradata/teradata_odbc_sql","description":"SQL query module for ODBC connections to local Teradata databases.\n\n        Port specification (TCP 1025 by default) is not necessary for ODBC connections.\n\n        Requires ODBC driver and Python Teradata module.","rank":300,"fields":{"detailsSlug":"/modules/details/auxiliary/admin/teradata/teradata_odbc_sql","documentationSlug":"/modules/documentation/auxiliary/admin/teradata/teradata_odbc_sql","referencesSlug":"/modules/references/auxiliary/admin/teradata/teradata_odbc_sql"},"documentation":{"html":"<p>The teradata<em>odbc</em>sql module is used to run SQL queries for Teradata databases.</p>\n<h2 id=\"vulnerable-application\" style=\"position:relative;\"><a href=\"#vulnerable-application\" aria-label=\"vulnerable application permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Vulnerable Application</h2>\n<ul>\n<li>Teradata Database</li>\n<li>Teradata Express</li>\n</ul>\n<p>Teradata databases can be identified by scanning for TCP port 1025. An Nmap version scan can confirm if the service is recognized as Teradata.</p>\n<p>The teradata<em>odbc</em>login module can be used to brute-force credentials.</p>\n<h2 id=\"extra-requirements\" style=\"position:relative;\"><a href=\"#extra-requirements\" aria-label=\"extra requirements permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Extra Requirements</h2>\n<p>This module requires the Teradata ODBC driver and the Teradata python library.</p>\n<h3 id=\"odbc-driver-for-kali-linux-20173\" style=\"position:relative;\"><a href=\"#odbc-driver-for-kali-linux-20173\" aria-label=\"odbc driver for kali linux 20173 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ODBC Driver for Kali Linux 2017.3</h3>\n<ol>\n<li>Download the Teradata ODBC driver for Ubuntu from <a href=\"https://downloads.teradata.com/download/connectivity/odbc-driver/linux\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">downloads.teradata.com</a>.</li>\n<li>\n<p>Refer to the Ubuntu package README for up-to-date instructions.</p>\n<ol>\n<li>Install <strong>lib32stdc++6</strong> if necessary.</li>\n<li>Install the ODBC drivers: <code class=\"language-text\">dpkg -i [package].deb</code></li>\n<li>Copy <strong>/opt/teradata/client/ODBC_64/odbc.ini</strong> to <strong>/root/.odbc.ini</strong> .</li>\n<li>Or your home directory if not root.</li>\n<li>Make sure <strong>odbc.ini</strong> has been renamed to <strong>.obdc.ini</strong> .</li>\n</ol>\n</li>\n</ol>\n<h3 id=\"configuration-for-os-x\" style=\"position:relative;\"><a href=\"#configuration-for-os-x\" aria-label=\"configuration for os x permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Configuration for OS X</h3>\n<p>On OS X the Python client needs to be pointed to the ODBC driver manually. Create <code class=\"language-text\">~/udaexec.ini</code> with the following contents:</p>\n<div class=\"gatsby-highlight\" data-language=\"ini\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ini line-numbers\"><code class=\"language-ini\"><span class=\"token selector\">[CONFIG]</span>\n\n<span class=\"token constant\">odbcLibPath</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span>/usr/lib/libiodbc.dylib</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<h3 id=\"python-package\" style=\"position:relative;\"><a href=\"#python-package\" aria-label=\"python package permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Python Package</h3>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">pip install teradata</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<h2 id=\"verification-steps\" style=\"position:relative;\"><a href=\"#verification-steps\" aria-label=\"verification steps permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Verification Steps</h2>\n<ol>\n<li>Deploy a <a href=\"https://www.teradata.com/products-and-services/teradata-express\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Teradata Express</a> test environment.</li>\n<li>Install the OBCD driver and python package.</li>\n<li>Start msfconsole.</li>\n<li>Do: <code class=\"language-text\">use auxiliary/admin/teradata/teradata_odbc_sql</code></li>\n<li>Do: <code class=\"language-text\">set RHOSTS [IPs]</code></li>\n<li>Do: <code class=\"language-text\">set USERNAME [username to try]</code></li>\n<li>\n<p>Do: <code class=\"language-text\">set PASSWORD [password to try]</code></p>\n<ul>\n<li>The default Teradata credentials are the matching username and password 'DBC'.</li>\n</ul>\n</li>\n<li>\n<p>Set a SQL query for the 'SQL' option.</p>\n<ul>\n<li>The default is <code class=\"language-text\">SELECT DATABASENAME FROM DBC.DATABASES</code></li>\n</ul>\n</li>\n<li>Do: <code class=\"language-text\">run</code></li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">msf &gt; use auxiliary/admin/teradata/teradata_odbc_sql \nmsf auxiliary(admin/teradata/teradata_odbc_sql) &gt; show options\n\nModule options (auxiliary/admin/teradata/teradata_odbc_sql):\n\n   Name      Current Setting                         Required  Description\n   ----      ---------------                         --------  -----------\n   PASSWORD  dbc                                     yes       Password\n   RHOSTS                                            yes       The target address range or CIDR identifier\n   SQL       SELECT DATABASENAME FROM DBC.DATABASES  yes       SQL query to perform\n   THREADS   1                                       yes       The number of concurrent threads\n   USERNAME  dbc                                     yes       Username\n\nmsf auxiliary(admin/teradata/teradata_odbc_sql) &gt; set RHOSTS 192.168.0.2\nRHOSTS =&gt; 192.168.0.2\nmsf auxiliary(admin/teradata/teradata_odbc_sql) &gt; run\n\n[*] Running for 192.168.0.2...\n[*] 192.168.0.2 - dbc:dbc - Starting\n[*] 192.168.0.2 - Creating connection: %s\n[*] 192.168.0.2 - Loading ODBC Library: %s\n[*] 192.168.0.2 - Available drivers: Teradata Database ODBC Driver 16.20, \n[*] 192.168.0.2 - Connection successful. Duration: %.3f seconds. Details: %s\n[+] 192.168.0.2 - dbc:dbc - Login Successful\n[*] 192.168.0.2 - Starting - SELECT DATABASENAME FROM DBC.DATABASES\n[*] 192.168.0.2 - Query Successful. Duration: %.3f seconds,%sQuery: %s%s\n[+] 192.168.0.2 - Row 1: [DatabaseUser                  ]\n[+] 192.168.0.2 - Row 2: [All                           ]\n[+] 192.168.0.2 - Row 3: [SYSJDBC                       ]\n[+] 192.168.0.2 - Row 4: [TDStats                       ]\n[+] 192.168.0.2 - Row 5: [TD_SYSXML                     ]\n[+] 192.168.0.2 - Row 6: [PUBLIC                        ]\n[+] 192.168.0.2 - Row 7: [DBC                           ]\n[+] 192.168.0.2 - Row 8: [SYSBAR                        ]\n[+] 192.168.0.2 - Row 9: [TD_SYSGPL                     ]\n[+] 192.168.0.2 - Row 10: [SYSLIB                        ]\n[+] 192.168.0.2 - Row 11: [SQLJ                          ]\n[+] 192.168.0.2 - Row 12: [LockLogShredder               ]\n[+] 192.168.0.2 - Row 13: [Default                       ]\n[+] 192.168.0.2 - Row 14: [TDPUSER                       ]\n[+] 192.168.0.2 - Row 15: [TD_SYSFNLIB                   ]\n[+] 192.168.0.2 - Row 16: [EXTUSER                       ]\n[+] 192.168.0.2 - Row 17: [tdwm                          ]\n[+] 192.168.0.2 - Row 18: [SystemFe                      ]\n[+] 192.168.0.2 - Row 19: [External_AP                   ]\n[+] 192.168.0.2 - Row 20: [TDQCD                         ]\n[+] 192.168.0.2 - Row 21: [dbcmngr                       ]\n[+] 192.168.0.2 - Row 22: [Sys_Calendar                  ]\n[+] 192.168.0.2 - Row 23: [SysAdmin                      ]\n[+] 192.168.0.2 - Row 24: [TD_SERVER_DB                  ]\n[+] 192.168.0.2 - Row 25: [TDMaps                        ]\n[+] 192.168.0.2 - Row 26: [SYSUDTLIB                     ]\n[+] 192.168.0.2 - Row 27: [Crashdumps                    ]\n[+] 192.168.0.2 - Row 28: [SYSSPATIAL                    ]\n[+] 192.168.0.2 - Row 29: [MyUser                        ]\n[+] 192.168.0.2 - Row 30: [SYSUIF                        ]\n[*] Scanned 1 of 1 hosts (100% complete)\n[*] Auxiliary module execution completed</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>"}}},"pageContext":{"id":"a0a23c26-124e-52bc-9dab-4d77f6e6fb28"}}}